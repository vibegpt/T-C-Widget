!function(){"use strict";const e={brandColor:"#00B3A6",brandIcon:"‚óÜ",termsSelectors:["#terms",".terms","[data-terms]",'[aria-label*="terms" i]'],agreeSelectors:["button",'[role="button"]','input[type="submit"]','[name*="agree" i]','[id*="agree" i]']},t=document.currentScript;if(t){e.brandColor=t.getAttribute("data-color")||e.brandColor,e.brandIcon=t.getAttribute("data-icon")||e.brandIcon;const n=t.getAttribute("data-terms");n&&(e.termsSelectors=n.split(",").map(e=>e.trim()));const i=t.getAttribute("data-agree");i&&(e.agreeSelectors=i.split(",").map(e=>e.trim()))}const n=e=>{for(const t of e){const e=document.querySelector(t);if(e&&e.offsetParent)return e}return null},i=e=>{const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstElementChild},s=e=>{const t=e.replace(/[,\s]/g,"").match(/\$?(\d+(?:\.\d+)?)/);return t?Number(t[1]):null};function a(e){const t=(e=>e.replace(/\u00A0/g," ").replace(/\s+/g," ").trim())(e),n={sections:[]},i=t.match(/Last updated\s+([A-Za-z]{3,9}\s+\d{1,2},\s*\d{4}|\d{4}-\d{2}-\d{2})/i);i&&(n.updatedAt=(e=>{const t=new Date(e);return isNaN(t)?void 0:t.toISOString().slice(0,10)})(i[1]));const a=t.match(/at least\s+(\d{1,2})\s+years? of age/i);a&&n.sections.push({key:"eligibility",title:"Eligibility",bullets:[`You must be at least ${Number(a[1])}.`],facts:{ageMin:Number(a[1])}});const o=/(do not|no)\s+(have )?custody.*(wallet|keys|assets)/i.test(t),r=/(gas|network) fees?.*?(non[-\s]?refundable|final)/i.test(t),l=/(transactions? (are )?final|irreversible)/i.test(t);if(o||r||l){const e=[];o&&e.push("Platform is not a custodian; you hold your keys."),r&&e.push("Gas/network fees are non-refundable."),l&&e.push("On-chain transactions are final/irreversible."),n.sections.push({key:"wallet",title:"Wallet & Self-Custody",bullets:e,facts:{selfCustody:o,gasFeesNonRefundable:r}})}const d=/(not intended to be a\s*['"]?security|not (an )?investment)/i.test(t),c=/(no (investment|legal|tax) advice)/i.test(t);if(d||c){const e=[];d&&e.push("Tokens framed as collectibles, not securities/investments."),c&&e.push("No investment/legal/tax advice."),n.sections.push({key:"tokens",title:"Tokens",bullets:e,facts:{notSecurity:d,collectiblesOnly:d,noInvestmentAdvice:c}})}const u=/(bridge|rollup|layer[-\s]?two|OP\s*Stack|sequencer|dispute period)/i.test(t);if(l||u){const e=[];l&&e.push("Transactions are irreversible and volatile."),u&&e.push("Bridging/L2 involves dispute/wait periods and technical risk."),n.sections.push({key:"risks",title:"Risks & Gotchas",bullets:e,facts:{irreversibleTxs:l,bridgingL2:u}})}const p=/(binding,?\s*(?:individual\s*)?arbitration|arbitration.*(?:JAMS|AAA|ICC))/i.test(t),b=(t.match(/(JAMS|AAA|ICC)/i)||[])[1],m=/waiv(e|er).{0,40}class (action|representative)|class (action|proceeding).{0,30}(waiv|not participate)/i.test(t),g=t.match(/opt[-\s]?out[^\d]{0,40}?(\d{1,3})\s+days?/i);if(p||m||g){const e=[];(p||b)&&e.push(`Binding individual arbitration${b?` (${b.toUpperCase()})`:""}; no class actions.`),g&&e.push(`You can opt out within ${Number(g[1])} days by mail.`),n.sections.push({key:"disputes",title:"Dispute Resolution",bullets:e,facts:{arbitration:p,arbitrationProvider:b?.toUpperCase(),classActionWaiver:m,optOutDays:g?Number(g[1]):void 0}})}let f;const y=t.match(/(?:maximum|aggregate|overall).{0,40}liability.{0,40}(\$\s?[\d,]+|\d+\s*dollars?)/i);if(y&&(f=s(y[1])),!f){const e=t.match(/greater\s+of\s+(\$\s?[\d,]+)[^\.]{0,80}(amount (you )?paid|fees? paid)/i);e&&(f=s(e[1]))}"number"==typeof f&&n.sections.push({key:"liability",title:"Liability Limit",bullets:[`Liability cap: $${f.toLocaleString()}.`],facts:{liabilityCap:f}});const h=(t.match(/dmca@[^\s)>,;]+/i)||[])[0],v=(t.match(/110\s+Green\s+Street[^\n]+/i)||[])[0];(h||v)&&n.sections.push({key:"dmca",title:"DMCA",bullets:[h?`DMCA email: ${h.toLowerCase()}.`:"DMCA mailing address present."],facts:{dmcaEmail:h?.toLowerCase(),dmcaAddress:v}});const x=(t.match(/governed by\s+the\s+laws?\s+of\s+([A-Za-z\s]+)/i)||[])[1]?.trim(),k=(t.match(/state and federal courts located in\s+the\s+State\s+of\s+([A-Za-z\s]+)/i)||[])[1]?.trim()||x;x&&n.sections.push({key:"governing_law",title:"Governing Law & Venue",bullets:[`${x}${k?`; venue ${k}`:""}`],facts:{governingLaw:x,venue:k}}),/california\s+civil\s+code\s+¬ß?\s*1542/i.test(t)&&n.sections.push({key:"california_notice",title:"California ¬ß1542",bullets:["California Civil Code ¬ß1542 waiver present."],facts:{ccp1542Waiver:!0}});const $=/OP\s*Stack/i.test(t)?"OP Stack":void 0,C=/ConduitXYZ,?\s*Inc\./i.test(t)?"ConduitXYZ, Inc.":void 0,w=/seven[-\s]?day\s+[""']?dispute period[""']?/i.test(t)?7:void 0;if($||C||w){const e=[];$&&e.push(`${$} rollup`),C&&e.push(`Sequencer operated by ${C}.`),w&&e.push(`Withdrawals subject to a ${w}-day dispute period.`),n.sections.push({key:"zora_network",title:"Zora Network (L2)",bullets:e,facts:{stack:$,sequencerOperator:C,disputePeriodDays:w}})}return{parsed:n,risks:{arbitration:p,classActionWaiver:m,liabilityCap:"number"==typeof f?f:null,terminationAtWill:/(suspend|terminate).*(any\s*time|sole\s*discretion)/i.test(t),walletSelfCustody:o,irreversibleTxs:l,bridgingL2Risks:u,optOutDays:g?Number(g[1]):null}}}function o(){const t=n(e.termsSelectors)||document.body,s=(t.innerText||t.textContent||"").trim();if(!s)return void console.log("LegalEasy: No terms content found");const o=n(e.agreeSelectors),r=o||t,l=(e=>{const t=getComputedStyle(e||document.body),n=e?.getBoundingClientRect?.();return{borderRadius:t.getPropertyValue("border-radius")||"12px",fontFamily:t.getPropertyValue("font-family"),fontSize:t.getPropertyValue("font-size"),lineHeight:t.getPropertyValue("line-height"),color:t.getPropertyValue("color"),buttonHeight:Math.max(36,Math.round(n?.height||40))}})(o||t),d=document.createElement("div");d.style.width="100%",d.className="legaleasy-shopify-embed",(r.parentNode||document.body).insertBefore(d,r);const c=i(`\n      <div style="\n        border: 1px solid rgba(0,0,0,0.1);\n        border-radius: ${l.borderRadius};\n        padding: 12px;\n        background: #fff;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.04);\n        font-family: ${l.fontFamily||"inherit"};\n        font-size: ${l.fontSize||"inherit"};\n        line-height: ${l.lineHeight||"inherit"};\n        color: ${l.color||"inherit"};\n        display: flex; \n        flex-direction: column; \n        gap: 8px;\n        margin: 10px 0;\n      ">\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <span style="\n            display: inline-flex; \n            align-items: center; \n            justify-content: center;\n            width: 20px; \n            height: 20px; \n            border-radius: 4px; \n            color: #fff;\n            background: ${e.brandColor};\n            font-size: 12px;\n          ">${e.brandIcon}</span>\n          <span style="font-weight: 600;">Want a summary of these terms?</span>\n        </div>\n        <div style="display: flex; gap: 8px;">\n          <button data-le="yes" style="\n            flex: 1; \n            height: ${l.buttonHeight}px;\n            border-radius: 8px; \n            border: 1px solid ${e.brandColor};\n            background: ${e.brandColor}; \n            color: #fff; \n            font-weight: 600;\n            cursor: pointer;\n          ">Yes</button>\n          <button data-le="no" style="\n            flex: 1; \n            height: ${l.buttonHeight}px;\n            border-radius: 8px; \n            border: 1px solid rgba(0,0,0,0.15);\n            background: #fff; \n            color: inherit; \n            font-weight: 600;\n            cursor: pointer;\n          ">No</button>\n        </div>\n      </div>\n    `);d.appendChild(c),c.querySelector('[data-le="yes"]').addEventListener("click",()=>{const{parsed:e,risks:t}=a(s);d.innerHTML="";const n=[],o=t=>e.sections.find(e=>e.key===t),r=o("wallet"),l=/(suspend|terminate|sole discretion)/i.test(s)?{bullets:["Platform may suspend/terminate at its discretion."]}:null,c=o("risks"),u=o("disputes");r&&n.push({icon:"‚úÖ",label:"Your Rights",text:r.bullets?.[0]||"You keep keys; gas is non-refundable."}),l&&n.push({icon:"‚ùå",label:"Their Rights",text:l.bullets?.[0]}),c&&n.push({icon:"‚ö†Ô∏è",label:"Risks & Gotchas",text:c.bullets?.[0]}),u&&n.push({icon:"üìú",label:"Disputes",text:u.bullets?.[0]});const p=e.sections.map(e=>{const t=(e.bullets||[]).concat(e.body?[e.body]:[]).join(" ");return t?`<div><b>${e.title}:</b> ${t}</div>`:""}).join(""),b=[];t.arbitration&&b.push("Disputes go to binding arbitration."),t.classActionWaiver&&b.push("Class actions are waived."),"number"==typeof t.liabilityCap&&b.push(`Liability cap: $${t.liabilityCap.toLocaleString()}.`),t.terminationAtWill&&b.push("Platform can suspend/terminate at its discretion.");const m=i(`\n        <section style="\n          max-width: 680px; \n          border: 1px solid rgba(0,0,0,0.1); \n          border-radius: 16px; \n          background: #fff; \n          box-shadow: 0 1px 2px rgba(0,0,0,0.04); \n          padding: 16px;\n          margin: 10px 0;\n        ">\n          ${b.length?`\n          <div style="\n            margin-bottom: 12px; \n            border: 1px solid #fecaca; \n            background: #fef2f2; \n            border-radius: 12px; \n            padding: 10px;\n          ">\n            <div style="font-weight: 600;">‚ö†Ô∏è Heads up</div>\n            <ul style="margin: 6px 0 0 18px;">\n              ${b.map(e=>`<li>${e}</li>`).join("")}\n            </ul>\n          </div>`:""}\n          \n          <h2 style="margin: 0 0 8px 0; font-weight: 700; font-size: 16px;">‚öñÔ∏è Terms Summary</h2>\n          <ul style="list-style: none; padding: 0; margin: 0 0 10px 0;">\n            ${n.map(e=>`\n              <li style="display: flex; gap: 8px; margin: 6px 0;">\n                <span aria-hidden>${e.icon}</span>\n                <div><b style="margin-right: 4px;">${e.label}:</b><span>${e.text||""}</span></div>\n              </li>\n            `).join("")}\n          </ul>\n          \n          <details>\n            <summary style="cursor: pointer; color: #2563eb; font-weight: 600;">Show More</summary>\n            <div style="margin-top: 10px; color: #374151; font-size: 14px;">${p}</div>\n          </details>\n          \n          <div style="margin-top: 12px; color: #6b7280; font-size: 12px;">\n            LegalEasy summaries are for convenience only and not legal advice.\n          </div>\n        </section>\n      `);d.appendChild(m)}),c.querySelector('[data-le="no"]').addEventListener("click",()=>{d.innerHTML=""})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}();